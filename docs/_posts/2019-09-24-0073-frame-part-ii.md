---
title: "0073: The Frame, Part II - Frame Shadows & CSS Styling"
layout: post
topic: container
description: GTK Tutorial covering decoration of Frame borders.
author: Ron Tarrant

---

#0073: The Frame, Part II – Shadows & CSS Styling

##Frame Off

<screenshot container_014_08>

Today, we start with the irony of looking at the invisible `Frame`. Turning off visibility is one way of dealing with the aesthetic problem we talked about last time. Visibility is turned off  with a call to `setShadowType()` as seen in the `FrameOff` class:

```d
class FrameOff : Frame
{
	private:
	string titleLabel = "Coordinates";
	FrameChildGrid frameChildGrid;
	
	public:
	this()
	{
		super(titleLabel);
		setShadowType(ShadowType.NONE);
		frameChildGrid = new FrameChildGrid();
		add(frameChildGrid);
		
	} // this()
	
} // class FrameOff
```

This class is identical to the `FrameOn` class we looked at last time, with the exception of the statement `setShadowType()`. `ShadowType.NONE` does the job at hand and we end up with the results seen in the above screen shot.

##Frame Styling

Turning visibility on or off is considered styling, and so is giving the `Frame` a 3D look. But whereas we use `setShadowType()` to set visibility, all other styling is done with *CSS*.

###Styling Frames with CSS

<screenshot container_014_09>

To use *CSS* in *GTK*, we need to do three things:

- write a *CSS* file,
- associate it with our application’s *GDK* `Screen`, and
- tell our application to use this association.

But before we dive in, let’s start with a point of basic terminology…

####Step One: Writing a CSS File

In *CSS* (Cascading Style Sheet) terms, the bits of code used to set properties for various elements are called selectors. For *GTK*’s purposes, selectors need to be in files ending in the `.css` extension similar to this:

```css
border
{
	border-style: outset;
/*	border-style: inset; */
/*	border-style: solid; */
/*	border-style: none; */
}
```

In this example, I’ve laid out the four possible styles of the `Frame` border while commenting out three of them. Here’s what these options mean:

- outset: give the `Frame` a 3D styling and make it look raised from the ‘page,’
- inset: another 3D styling, this time seemingly recessed into the ‘page,’
- solid: a plain, solid line, and
- none: which has the same effect as `setShadowType(ShadowType.NONE)`.

If we save this file in a local `css` directory with the name `frame.css`, step one is done. Now let’s look at…

####Step Two: The Association Between a CSS File and Our Application

This is a two-step process, with a total of five sub-steps, in which we:

- instantiate a `CssProvider` object which serves as a wrapper of sorts for our `CSS` file (`css/frame.css`),
- grab the default *GDK* `Display` associated with our application from which we pull…
- the *GDK* `Screen`, and finally
- set up the association between the `.css` file and the `Screen`.

That code, wrapped up in a nice, neat class looks like this:

```d
class CSS
{
	import gdk.Display;
	import gdk.Screen;
	import gtk.StyleContext;
	import gtk.CssProvider;
	
	string cssPath = "./css/frame.css";

	this()
	{
		CssProvider provider = new CssProvider();
		provider.loadFromPath(cssPath);
		
		Display display = Display.getDefault();
		Screen screen = display.getDefaultScreen();
		StyleContext.addProviderForScreen(screen, provider, GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);

	} // this()

} // CSS
```

####Step Three: Telling Our Application to Use CSS

This is the simplest step because it’s one statement and it doesn’t matter where in our application we do it. All we have to do is:

```d
CSS css = new CSS();
```

During the research phase for this post, I dropped this line into `main()` as well as the class definitions for `TextRigWindow`, `AppBox`, `FrameOn`, and `FrameChildGrid` and in each case, the `CSS` object was found by those widgets needing it, leading me to conclude that the association is global even if you aren’t taking any pains to make it so.

My preferred `CSS` instantiation statement placement is in `main()` because of its quasi-global nature:

```d
void main(string[] args)
{
	CSS css;
	TestRigWindow testRigWindow;
	
	Main.init(args);

	testRigWindow = new TestRigWindow();
	css = new CSS(); // enable CSS

	Main.run();
	
} // main()
```

##CSS Property Names

<screenshot fontdeco_015_02>

The reason *CSS* works in *GTK* is because of the naming convention for widgets and their properties. Some names are set up by *GTK*, but you can also roll up your sleeves and name things yourself.

For the sake of demonstration, let’s assume you wanna gain control over a `Label`’s background color. In class form, that might look like this:

```d
class CSSLabel : Label
{
	string textLabel = “CSS Label”;
       string cssName = “label1”;

	this()
	{
		super(textLabel);
		setName(cssName);
		
	} // this()
	
} // class CSSLabel
```

Now our `.css` file can refer to our `Label` like this:

```d
label#label1
{
	font-family: Arial, Helvetica, sans-serif;
	color: red;
	font-size: 26px;
	background-color: yellow;
	
} /* label1 */
```

The selector name, `label#label1`, tells *GTK* that only widgets derived from a `label` and named `label1` get this styling. Leaving out this drill-down aspect, we could also write the selector name like this:

```d
#label1
```

##CSS and the GTK Inspector

With your application up and running, you can use the *GTK Inspector* by hitting **Ctrl-Shift-D** (how apropos) to look at *CSS* names, both the ones you’ve yourself have assigned and the ones assigned by default. But, not all *CSS* names show up, but [here’s a handy reference]( https://developer.gnome.org/gtk3/stable/chap-css-properties.html).

And if you want more details about *CSS* in *GTK*, you can find [a more extensive explanation here](https://developer.gnome.org/gtk3/stable/chap-css-overview.html).

##Conclusion

And that’s the basics of both `Frame`s and *GTK CSS*. It should be remembered, however, that it’s easy to get carried away and over style an application. Sometime down the road, we may come back to this subject, but it’s an issue of design rather than coding, so it’s a low priority for now.

Until next time.

<div class="blog-nav">
	<div style="float: left;">
		<a href="/2019/09/20/0072-frame-part-i.html">Previous: Frames, Part I</a>
	</div>
<!--
	<div style="float: right;">
		<a href="/2019/09/27/0074-??????????????????.html">Next: ???????????????</a>
	</div>
-->
</div>
